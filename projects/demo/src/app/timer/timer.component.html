<mat-card class="timer">
  <mat-card-header>
    <mat-card-title>Timer</mat-card-title>
  </mat-card-header>

  <mat-card-content class="mat-card-content">
    <mat-form-field>
      <input
        type="number"
        matInput
        placeholder="idle (sec)"
        [(ngModel)]="idle"
        [disabled]="isWatching! "
        (keyup)="onIdleKeyup()"
      />
    </mat-form-field>
    <mat-form-field>
      <input
        type="number"
        matInput
        placeholder="timeout (sec)"
        [(ngModel)]="timeout"
        [disabled]="isWatching!"
        (keyup)="onTimeoutKeyup()"
      />
    </mat-form-field>
    <mat-form-field>
      <input
        type="number"
        matInput
        placeholder="ping (sec)"
        [(ngModel)]="ping"
        [disabled]="isWatching!"
        (keyup)="onPingKeyup()"
      />
    </mat-form-field>
  </mat-card-content>

  <div *ngIf="lastPing" class="status ping">ping {{ lastPing }}</div>
  <div *ngIf="timeIsUp" class="status timeIsUp">Time is up</div>

  <mat-card-actions class="buttons-group">
    <button
      mat-flat-button
      color="primary"
      [disabled]="isWatching"
      (click)="onStartWatching()"
    >
      Start watching
    </button>
    <button
      mat-stroked-button
      color="primary"
      [disabled]="!isWatching"
      (click)="onStopWatching()"
    >
      Stop watching
    </button>

    <button
      *ngIf="isTimer && !timeIsUp"
      mat-button
      color="accent"
      (click)="onStopTimer()"
      matBadge="{{ timerCount }}"
      matBadgePosition="after"
      matBadgeColor="accent"
    >
      Stop timer
    </button>

    <button
      *ngIf="timeIsUp"
      mat-button
      color="primary"
      (click)="onResetTimer()"
    >
      Reset timer
    </button>
  </mat-card-actions>
</mat-card>
